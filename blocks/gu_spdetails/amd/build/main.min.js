define(["core/ajax"],function(c){var s=()=>{var e=document.getElementById("current_tab"),t=document.getElementById("past_tab");e.classList.add("active"),t.classList.remove("active");n("current",0,"course","asc")},t=e=>{var t=document.getElementById("current_tab"),a=document.getElementById("past_tab");switch(e.target){case t:s();break;case a:(()=>{var e=document.getElementById("current_tab"),t=document.getElementById("past_tab");e.classList.remove("active"),t.classList.add("active");n("past",0,"course","asc")})()}};const n=(e,t,a,s)=>{var n=document.getElementById("assessments_details_contents");c.call([{methodname:"block_gu_spdetails_retrieve_assessments",args:{activetab:e,page:t,sortby:a,sortorder:s}}])[0].done(function(e){n.innerHTML=e.result,r()}).fail(function(e){console.log(e)})},r=()=>{for(var e=document.querySelectorAll("#assessments_details_contents .page-item a.page-link"),t=0;t<e.length;t++)e[t].addEventListener("click",e=>{e.preventDefault();var t=new URL(e.target.getAttribute("href")),e=new URLSearchParams(t.search),t=e.get("activetab"),e=e.get("page");n(t,e,"course","asc")})};return{init:function(){const e=document.querySelector(".assessments-details-container");e&&(s(),e.addEventListener("click",t))}}});